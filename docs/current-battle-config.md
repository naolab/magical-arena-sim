# 現在のバトルシステム設定値

**バージョン**: v1.0.0
**最終更新**: 2025-10-12
**設定ファイル**: `src/config/battleParams.ts`

このドキュメントは実装済みのバトルシステムの設定値を記録しています。

---

## 📋 基本パラメータ

| 項目 | 値 | 説明 |
|------|-----|------|
| 初期HP | 1000 | プレイヤー・敵の開始HP |
| 基礎火力 | 100 | ダメージ計算の基準値 |

---

## ⚔️ 技倍率

| 技 | 倍率 | 特性 |
|----|------|------|
| アタック | ×1.2 | 通常攻撃 |
| アピール | ×0.0 | ダメージなし（ファン獲得） |
| ガード | ×0.0 | ダメージなし（防御） |
| ガード軽減 | 20% | 被ダメージを1/5に軽減（80%カット） |

---

## 👥 ファン率変動

### 勝敗による変動

| 結果 | 変動量 | 備考 |
|------|--------|------|
| 勝利 | +10% | 通常勝利 |
| 引き分け勝利 | +5% | ファン率が高い方が有利 |
| 敗北 | -5% | 自分→どっちつかずに移動 |

### 観客指示による変動

| 行動 | 変動量 |
|------|--------|
| 指示に従う | +5% |
| 指示に反する | -5% |

### 技成功時の追加ボーナス

| 技 | 変動量 | 条件 |
|----|--------|------|
| アピール成功 | +10% | 勝利時 |
| ガード成功 | +3% | 勝利時 |

---

## 😈 アンチゲージ変動

### 行動による変動

| 行動 | 変動量 | 条件 |
|------|--------|------|
| アタック | +5 | 勝利時 |
| アピール成功 | -15 | 勝利時 |
| ガード成功 | -5 | 勝利時 |

### 観客指示違反によるペナルティ

| 違反内容 | 変動量 |
|----------|--------|
| 「攻撃しろ！」違反 | +10 |
| 「アピールして！」違反 | +10 |
| 「ガードするな！」違反 | +15 |

---

## 🌡️ アンチレベルと効果

| レベル | 範囲 | ファン獲得ペナルティ | 火力ペナルティ | 状態 |
|--------|------|---------------------|---------------|------|
| Lv0 | 0-29 | 0% | ×1.0 | 通常 |
| Lv1 | 30-59 | -20% | ×0.9 | 冷淡期 |
| Lv2 | 60-89 | -40% | ×0.8 | ブーイング期 |
| Lv3 | 90-100 | -100% | ×0.5 | 炎上期（強制アピール） |

### ブーイングLv3特殊効果

| 項目 | 効果 |
|------|------|
| ファン率変化 | -10% |
| アンチゲージ減少 | -30 |

---

## 🎤 観客指示システム

### 指示の種類と出現確率

| 指示 | 確率 | 成功条件 |
|------|------|----------|
| 攻撃しろ！ | 40% | アタック選択 |
| アピールして！ | 30% | アピール選択 |
| ガードするな！ | 30% | ガード以外選択 |

---

## 🎯 ファン率による火力補正

| ファン率 | 火力倍率 |
|----------|----------|
| 0-20% | ×1.0 |
| 21-50% | ×1.2 |
| 51-80% | ×1.5 |
| 81-100% | ×2.0 |

---

## 👥 初期観客構成

| 属性 | 割合 |
|------|------|
| 敵ファン | 20% |
| どっちつかず | 70% |
| 自分ファン | 10% |

---

## 🏆 勝利条件

以下のいずれかを満たすと勝利：

1. **相手のHPを0以下にする**
2. **自分のファン率が80%以上になる**

---

## 🧮 ダメージ計算式

```
最終ダメージ = 基礎火力 × 技倍率 × ファン補正 × アンチ補正 × ガード軽減
```

### 計算例

**通常アタック（ファン率10%, アンチLv0）**
```
100 × 1.2 × 1.0 × 1.0 = 120ダメージ
```

**ファン率高めでアタック（ファン率55%, アンチLv0）**
```
100 × 1.2 × 1.5 × 1.0 = 180ダメージ
```

**ガード中にアタックを受ける**
```
120 × 0.2 = 24ダメージ（80%カット）
```

**アンチLv2でアタック（ファン率30%）**
```
100 × 1.2 × 1.2 × 0.8 = 115ダメージ（火力-20%）
```

---

## 📊 バランス目標値

| 項目 | 目標値 |
|------|--------|
| 平均ターン数 | 5-8ターン |
| 1ターンあたり平均ダメージ | 100-150 |
| アンチLv3到達率 | 10-20%程度 |

---

## 🔧 調整履歴

### v1.0.0 (2025-10-12)
- 初期実装
- battle-system-spec.md (Ver.1.2) の仕様に基づく
- 全機能実装完了

---

## 📝 調整時の注意事項

### 推奨される調整範囲

| パラメータ | 推奨範囲 | 理由 |
|-----------|----------|------|
| HP | 500-2000 | これ以下だと即死、これ以上だと長すぎる |
| 技倍率 | 0.5-2.0 | バランスが崩れる |
| ファン変動 | ±3%-±15% | 極端すぎると一方的な展開に |
| アンチ変動 | ±3-±20 | 小さすぎるとシステムが機能しない |
| アンチ閾値 | 20-100の範囲 | Lv1とLv3の差を20以上確保 |

### 調整のヒント

**バトルを短くしたい場合:**
- HPを減らす (1000 → 700)
- アタック倍率を上げる (1.2 → 1.4)

**アンチゲージをマイルドにしたい場合:**
- アンチ変動値を減らす (5 → 3)
- 閾値を上げる (Lv3: 90 → 95)

**ファンシステムを強調したい場合:**
- ファン率変動を増やす (10% → 15%)
- ファン補正の閾値を調整

---

## 📂 関連ファイル

- **設定ファイル**: `src/config/battleParams.ts`
- **仕様書**: `docs/battle-system-spec.md` (Ver.1.2)
- **実装**: `src/lib/battle/*.ts`

---

**🔄 このファイルはバトルパラメータ変更時に更新してください。**
